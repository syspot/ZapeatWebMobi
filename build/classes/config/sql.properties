# Configuracao do framework topsys.

JNDI.CONNECTION java:comp/env/jdbc/ZapeatSiteDS

CLASS.BROKER.IMPL br.com.topsys.database.jdbc.TSDataBaseBrokerImpl

CLASS.SEQUENCE.IMPL br.com.topsys.database.jdbc.sequence.TSSequencePostgresImpl

CODIGO.UNIQUE 23505

CODIGO.FOREIGNKEY 23503

#CategoriaDAO
categoriadao.usuario.pesquisar=SELECT C.ID,C.DESCRICAO,C.IMAGEM FROM USUARIOS_CATEGORIAS UC,CATEGORIAS C WHERE UC.CATEGORIA_ID = C.ID AND C.FLAG_ATIVO AND UC.USUARIO_ID = ?

#PromocaoDAO
promocaodao.pesquisar=SELECT P.ID,P.DESCRICAO,T.ID,T.DESCRICAO,F.ID,F.NOME_FANTASIA,F.CEP,F.LOGRADOURO,F.NUMERO,F.BAIRRO,C.NOME,P.INICIO,P.FIM,P.PRECO_ORIGINAL,P.PRECO_PROMOCIONAL,P.TITULO,P.IMAGEM_THUMB,CAT.DESCRICAO FROM PROMOCOES P,TIPOS_PROMOCOES T,FORNECEDORES F,FORNECEDORES_CATEGORIAS FC,CIDADES C,CATEGORIAS CAT WHERE F.ID = FC.FORNECEDOR_ID AND F.CIDADE_ID = C.ID AND P.TIPO_PROMOCAO_ID = T.ID AND F.ID = P.FORNECEDOR_ID AND FC.CATEGORIA_ID = CAT.ID AND FC.CATEGORIA_ID = ?
promocaodao.obter=SELECT P.ID, P.TIPO_PROMOCAO_ID, TP.DESCRICAO, P.FORNECEDOR_ID, F.NOME_FANTASIA, P.DESCRICAO, P.INICIO, P.FIM, P.PRECO_ORIGINAL, P.PRECO_PROMOCIONAL, P.TITULO, F.LONGITUDE, F.LATITUDE,CID.NOME,ES.SIGLA,F.LOGRADOURO,F.NUMERO,F.CEP,F.BAIRRO,F.TELEFONE FROM PUBLIC.PROMOCOES P, TIPOS_PROMOCOES TP, FORNECEDORES F,CIDADES CID, ESTADOS ES WHERE P.TIPO_PROMOCAO_ID = TP.ID AND P.FORNECEDOR_ID = F.ID AND F.CIDADE_ID = CID.ID AND CID.ESTADO_ID = ES.ID AND P.ID=?

#ComentarioDAO
comentariodao.inserir=INSERT INTO COMENTARIOS(ID,DESCRICAO,PROMOCAO_ID,USUARIO_ID,FLAG_INDIICA_PROMOCAO,FLAG_INDICA_ATENDIMENTO,DATA_CADASTRO) VALUES(?, ?, ?, ?, ?, ?, ?)

#FornecedorDAO
fornecedordao.obter=SELECT ID,NOME_FANTASIA,LATITUDE,LONGITUDE FROM FORNECEDORES WHERE ID = ?